<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Versiones - TimeTracker Pro</title>
    <link rel="stylesheet" href="stats.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-left">
                <h1>📝 Registro de Versiones</h1>
                <p class="subtitle">Historial de cambios y mejoras de TimeTracker Pro</p>
            </div>
            <div class="header-right">
                <button class="header-btn" id="closeBtn" title="Cerrar">❌</button>
            </div>
        </header>

        <div class="content">
            <!-- Versión Actual -->
            <div class="version-section current-version">
                <div class="version-header">
                    <h2>🚀 Versión Actual: 1.2.1</h2>
                    <span class="version-date">09 - 07 - 2025</span>
                </div>
                <div class="version-badge">
                    <span class="badge current">Actual</span>
                </div>
            </div>

            <!-- Lista de Versiones -->
            <div class="versions-list">
                
                <!-- Versión 1.2.1 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>🐛 Versión 1.2.1</h3>
                        <span class="version-date">09 - 07 - 2025</span>
                        <span class="version-type fix">Corrección de Errores</span>
                    </div>
                    <div class="version-content">
                        <h4>🐛 Correcciones y Arreglos</h4>
                        <ul>
                            <li>🔧 <strong>Estabilidad General:</strong> Mejoras en la estabilidad general del sistema de tracking</li>
                            <li>🖱️ <strong>Detección de Actividad:</strong> Optimizada la detección de actividad del usuario para mayor precisión</li>
                            <li>⚡ <strong>Rendimiento:</strong> Optimizaciones de rendimiento en el procesamiento de datos</li>
                            <li>🔄 <strong>Sincronización:</strong> Mejoras en la sincronización entre pestañas y procesos</li>
                            <li>🎯 <strong>Precisión del Tracking:</strong> Ajustes menores para mejorar la precisión del seguimiento</li>
                            <li>🗑️ <strong>Limpieza de Memoria:</strong> Optimizaciones en el uso de memoria y limpieza automática</li>
                        </ul>

                        <h4>🔧 Mejoras Técnicas</h4>
                        <ul>
                            <li>📊 <strong>Algoritmo de Seguimiento:</strong> Mejoras en el algoritmo de seguimiento de tiempo</li>
                            <li>🔄 <strong>Manejo de Errores:</strong> Mejor manejo de errores y casos edge</li>
                            <li>📝 <strong>Logging:</strong> Optimizado el sistema de logging para mejor rendimiento</li>
                            <li>⚙️ <strong>Configuración:</strong> Ajustes menores en la configuración por defecto</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Versión 1.2.0 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>✨ Versión 1.2.0</h3>
                        <span class="version-date">Enero 2025</span>
                        <span class="version-type feature">Funcionalidades Avanzadas</span>
                    </div>
                    <div class="version-content">
                        <h4>🎯 Funcionalidades Principales</h4>
                        <ul>
                            <li>🖱️ <strong>Pausa Automática por Inactividad:</strong> El tracking se pausa automáticamente cuando no mueves el ratón durante 1 minuto</li>
                            <li>👁️ <strong>Detección Inteligente de Pestañas:</strong> Solo rastrea tiempo cuando la pestaña está realmente activa y visible</li>
                            <li>🔍 <strong>Tracking de Tiempo Real:</strong> Sistema mejorado que solo registra el tiempo que verdaderamente pasas usando un sitio web</li>
                            <li>🏷️ <strong>Categorización Masiva Expandida:</strong> Más de 100 sitios web agregados a las categorías existentes</li>
                            <li>💰 <strong>4 Nuevas Categorías:</strong> Finanzas, Viajes, Gaming y Herramientas con sitios preconfigurados</li>
                            <li>🌍 <strong>Sitios Internacionales:</strong> Agregados dominios españoles e internacionales populares</li>
                        </ul>

                        <h4>🔧 Mejoras y Automatización</h4>
                        <ul>
                            <li>🖱️ <strong>Detección Avanzada de Actividad:</strong> Detecta movimiento del ratón, clics, teclado, scroll, touch y rueda del ratón</li>
                            <li>⚡ <strong>Seguimiento Más Frecuente:</strong> Guardado de datos cada 10 segundos en lugar de 30 para mayor precisión</li>
                            <li>📊 <strong>Triple Verificación:</strong> Ventana enfocada + pestaña visible + usuario activo para máxima precisión</li>
                            <li>🔄 <strong>Comunicación Mejorada:</strong> Mejor sincronización entre content script y background</li>
                            <li>📝 <strong>Logging Detallado:</strong> Logs completos para debugging y verificación de funcionamiento</li>
                            <li>🎛️ <strong>Estado Inicial Correcto:</strong> Detección precisa del estado al cargar pestañas nuevas</li>
                        </ul>

                        <h4>🏷️ Categorías Expandidas</h4>
                        <ul>
                            <li>💼 <strong>Trabajo:</strong> +10 sitios (GitLab, Figma, Notion, Trello, Workana, InfoJobs, etc.)</li>
                            <li>🎬 <strong>Entretenimiento:</strong> +8 sitios (Prime Video, Disney+, Atresplayer, RTVE, etc.)</li>
                            <li>📰 <strong>Noticias:</strong> +10 sitios (ABC, La Vanguardia, El Confidencial, Reuters, etc.)</li>
                            <li>🛒 <strong>Compras:</strong> +15 sitios (Amazon internacional, MediaMarkt, Carrefour, etc.)</li>
                            <li>🎓 <strong>Educación:</strong> +8 sitios (Platzi, MasterClass, Duolingo, etc.)</li>
                            <li>👥 <strong>Redes Sociales:</strong> Reorganización y mejora (Instagram movido desde Entretenimiento)</li>
                        </ul>

                        <h4>🆕 Nuevas Categorías</h4>
                        <ul>
                            <li>💰 <strong>Finanzas:</strong> Bankinter, BBVA, Santander, CaixaBank, PayPal, Revolut, N26, Investing, Coinbase, Binance</li>
                            <li>✈️ <strong>Viajes:</strong> Booking, Airbnb, Skyscanner, TripAdvisor, Expedia, Renfe, Ryanair, Vueling, Iberia</li>
                            <li>🎮 <strong>Gaming:</strong> Steam, Epic Games, Battle.net, Roblox, Minecraft, Valorant, League of Legends, Chess.com</li>
                            <li>🛠️ <strong>Herramientas:</strong> Gmail, Drive, OneDrive, WeTransfer, Translate, DeepL, Grammarly, Canva, Photopea</li>
                        </ul>

                        <h4>🐛 Correcciones y Arreglos</h4>
                        <ul>
                            <li>🔧 <strong>Tracking en Pestañas Inactivas:</strong> Corregido el problema donde seguía registrando tiempo al cambiar de pestaña</li>
                            <li>🖱️ <strong>Detección de Ratón Inconsistente:</strong> Solucionados problemas de detección de actividad del usuario</li>
                            <li>⏸️ <strong>Pausa/Reanudación Inteligente:</strong> El tiempo se guarda correctamente antes de pausar y se reanuda solo cuando es necesario</li>
                            <li>🔄 <strong>Comunicación Background-Content:</strong> Eliminada duplicación de funciones y mejorada la sincronización</li>
                            <li>🎯 <strong>Precisión del Tracking:</strong> Solo registra tiempo cuando realmente estás usando el sitio web</li>
                            <li>🗑️ <strong>Limpieza de Código:</strong> Eliminadas funciones duplicadas y código redundante</li>
                        </ul>

                        <h4>🎨 Mejoras de Interfaz</h4>
                        <ul>
                            <li>🔧 <strong>Configuración de Movimiento del Ratón:</strong> Interfaz mejorada con tooltips informativos</li>
                            <li>📊 <strong>Categorías Actualizadas:</strong> Mejor organización y visualización de categorías</li>
                            <li>🌍 <strong>Compatibilidad Internacional:</strong> Mejor soporte para sitios web internacionales</li>
                            <li>⚙️ <strong>Opciones Más Intuitivas:</strong> Configuración más clara y fácil de usar</li>
                        </ul>

                        <h4>🔬 Página de Pruebas</h4>
                        <ul>
                            <li>🧪 <strong>test-tracking-improvements.html:</strong> Nueva página para probar las mejoras de tracking</li>
                            <li>📊 <strong>Visualización en Tiempo Real:</strong> Estado del tracking visible durante las pruebas</li>
                            <li>🔍 <strong>Logs Detallados:</strong> Información completa sobre el funcionamiento del sistema</li>
                            <li>⚡ <strong>Verificación Instantánea:</strong> Comprobación inmediata de las mejoras implementadas</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Versión 1.1.2 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>🐛 Versión 1.1.2</h3>
                        <span class="version-date">06 - 07 - 2025</span>
                        <span class="version-type fix">Corrección de Errores</span>
                    </div>
                    <div class="version-content">
                        <h4>🐛 Correcciones Críticas</h4>
                        <ul>
                            <li>🔒 <strong>Bloqueo de Sitios - Manifest:</strong> Restaurados los permisos host_permissions necesarios para el bloqueo de sitios web</li>
                            <li>🏷️ <strong>Categorías Personalizadas en Estadísticas:</strong> Las categorías creadas en opciones ahora aparecen correctamente en los desplegables de estadísticas</li>
                            <li>🔄 <strong>Sincronización de Categorías:</strong> Los selects de categorías se actualizan automáticamente cuando se crean nuevas categorías</li>
                            <li>🚫 <strong>Funcionalidad de Bloqueo:</strong> El bloqueo de sitios web funciona correctamente después del primer uso</li>
                        </ul>

                        <h4>🔧 Mejoras Técnicas</h4>
                        <ul>
                            <li>🌐 <strong>getAllCategories():</strong> Nueva función para obtener todas las categorías disponibles (predefinidas + personalizadas)</li>
                            <li>🔄 <strong>initializeCategorySelects():</strong> Actualización dinámica de desplegables de categorías</li>
                            <li>📊 <strong>Actualización Automática:</strong> Los desplegables se actualizan al inicializar y al refrescar estadísticas</li>
                            <li>🔐 <strong>Permisos Restaurados:</strong> host_permissions requeridos para declarativeNetRequest</li>
                        </ul>

                        <h4>🎯 Funcionalidades Afectadas</h4>
                        <ul>
                            <li>✅ <strong>Modal de Cambio de Categoría:</strong> Ahora incluye todas las categorías disponibles</li>
                            <li>✅ <strong>Filtro de Categorías:</strong> Filtrado funciona con categorías personalizadas</li>
                            <li>✅ <strong>Bloqueo/Desbloqueo:</strong> Funciona correctamente en todos los sitios web</li>
                            <li>✅ <strong>Botón de Refresco:</strong> Actualiza categorías disponibles automáticamente</li>
                        </ul>
                    </div>
                </div>

                <!-- Versión 1.1.1 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>🐛 Versión 1.1.1</h3>
                        <span class="version-date">05 - 07 - 2025</span>
                        <span class="version-type fix">Corrección de Errores</span>
                    </div>
                    <div class="version-content">
                        <h4>🐛 Correcciones</h4>
                        <ul>
                            <li>🔒 <strong>Botón de Bloqueo en Estadísticas:</strong> Corregido error en la página de estadísticas donde el botón de bloqueo/desbloqueo no funcionaba</li>
                            <li>🔄 <strong>Normalización de Dominios:</strong> Mejorada la normalización de dominios para el cálculo del estado de bloqueo</li>
                            <li>⚡ <strong>Sincronización de Estado:</strong> El estado de bloqueo se actualiza correctamente en tiempo real</li>
                            <li>📢 <strong>Notificaciones:</strong> Las notificaciones de bloqueo/desbloqueo muestran el estado correcto</li>
                        </ul>

                        <h4>🔧 Mejoras Técnicas</h4>
                        <ul>
                            <li>🔌 <strong>Manejador toggleBlock:</strong> Agregado manejador faltante en background.js para la acción 'toggleBlock'</li>
                            <li>⚙️ <strong>Función handleToggleBlock:</strong> Nueva función que maneja el cambio de estado de bloqueo correctamente</li>
                            <li>📊 <strong>Cálculo de Estado:</strong> Mejorado el cálculo del campo 'blocked' en calculateStats con normalización apropiada</li>
                            <li>🔄 <strong>Respuesta del Toggle:</strong> Actualizado stats.js para usar la respuesta correcta del toggle</li>
                        </ul>
                    </div>
                </div>

                <!-- Versión 1.1.0 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>🌍 Versión 1.1.0</h3>
                        <span class="version-date">05 - 07 - 2025</span>
                        <span class="version-type feature">Soporte Multiidioma</span>
                    </div>
                    <div class="version-content">
                        <h4>🌟 Funcionalidades Principales</h4>
                        <ul>
                            <li>🌍 <strong>Sistema de Internacionalización:</strong> Soporte completo para múltiples idiomas</li>
                            <li>🇺🇸🇪🇸 <strong>Inglés y Español:</strong> Interfaz completamente traducida</li>
                            <li>🔄 <strong>Selector de Idioma:</strong> Cambio dinámico de idioma en tiempo real</li>
                            <li>🏷️ <strong>Categorías Normalizadas:</strong> Sistema robusto de manejo de categorías entre idiomas</li>
                            <li>📖 <strong>Página de Bienvenida Automática:</strong> Se abre automáticamente al instalar</li>
                            <li>🔧 <strong>Configuración Mejorada:</strong> Gestión avanzada de dominios por categoría</li>
                        </ul>

                        <h4>🔧 Mejoras Técnicas</h4>
                        <ul>
                            <li>🌐 <strong>Sistema i18n Robusto:</strong> Funciona tanto en extensión como en desarrollo local</li>
                            <li>🔑 <strong>Keys de Categorías:</strong> Sistema interno consistente con traducciones dinámicas</li>
                            <li>📊 <strong>Sincronización Completa:</strong> Los cambios en stats se reflejan en options automáticamente</li>
                            <li>🎨 <strong>Colores Consistentes:</strong> Categorías mantienen colores independientemente del idioma</li>
                            <li>🔍 <strong>Detección Automática:</strong> Detecta el idioma del navegador al instalar</li>
                            <li>💾 <strong>Persistencia de Idioma:</strong> Recuerda la preferencia de idioma seleccionada</li>
                        </ul>

                        <h4>🎨 Mejoras de Interfaz</h4>
                        <ul>
                            <li>🌍 <strong>Selectores de Idioma:</strong> Botones elegantes en todas las páginas</li>
                            <li>📱 <strong>Responsive Mejorado:</strong> Mejor adaptación a diferentes idiomas</li>
                            <li>✅ <strong>Notificaciones Traducidas:</strong> Mensajes de confirmación en idioma seleccionado</li>
                            <li>🏷️ <strong>Etiquetas Dinámicas:</strong> Categorías se muestran correctamente en ambos idiomas</li>
                        </ul>

                        <h4>🐛 Correcciones</h4>
                        <ul>
                            <li>🔧 <strong>Categorías Duplicadas:</strong> Eliminadas categorías duplicadas entre idiomas</li>
                            <li>🔄 <strong>Sincronización:</strong> Los dominios agregados desde stats aparecen en options</li>
                            <li>🎨 <strong>Colores de Categorías:</strong> Se muestran correctamente desde options</li>
                            <li>🎯 <strong>Selector de Categorías:</strong> Reconoce correctamente la categoría actual</li>
                            <li>🗑️ <strong>Eliminación de Categorías:</strong> Funciona correctamente en cualquier idioma</li>
                        </ul>

                        <h4>📚 Archivos de Localización</h4>
                        <ul>
                            <li>📁 <strong>_locales/en/:</strong> Traducciones completas en inglés</li>
                            <li>📁 <strong>_locales/es/:</strong> Traducciones completas en español</li>
                            <li>📄 <strong>i18n.js:</strong> Sistema de traducciones con fallbacks</li>
                            <li>🔧 <strong>Funciones Helper:</strong> Mapeo entre keys y traducciones</li>
                        </ul>
                    </div>
                </div>

                <!-- Versión 1.0.0 -->
                <div class="version-item">
                    <div class="version-info">
                        <h3>🚀 Versión 1.0.0</h3>
                        <span class="version-date">04 - 07 - 2025</span>
                        <span class="version-type release">Lanzamiento Inicial</span>
                    </div>
                    <div class="version-content">
                        <h4>✨ Funcionalidades Principales</h4>
                        <ul>
                            <li>📊 <strong>Seguimiento Automático:</strong> Monitoreo preciso del tiempo en cada sitio web</li>
                            <li>📈 <strong>Estadísticas Detalladas:</strong> Análisis por día, semana, mes, año y rangos personalizados</li>
                            <li>🏷️ <strong>Categorización Inteligente:</strong> Clasificación automática de sitios web</li>
                            <li>🚫 <strong>Bloqueo de Sitios:</strong> Bloqueo temporal y permanente de sitios distractores</li>
                            <li>🎯 <strong>Objetivos Diarios:</strong> Establecimiento de metas de tiempo</li>
                            <li>📤 <strong>Exportar/Importar:</strong> Respaldo completo de datos</li>
                        </ul>

                        <h4>🎨 Interfaz de Usuario</h4>
                        <ul>
                            <li>🎨 <strong>Diseño Moderno:</strong> Interfaz con gradientes morados y tipografía elegante</li>
                            <li>📱 <strong>Responsive:</strong> Adaptable a diferentes tamaños de pantalla</li>
                            <li>🌐 <strong>Popup Compacto:</strong> Acceso rápido a estadísticas diarias</li>
                            <li>📊 <strong>Página de Estadísticas:</strong> Análisis completo con gráficos y tablas</li>
                            <li>⚙️ <strong>Configuración Avanzada:</strong> Gestión de categorías y dominios</li>
                        </ul>

                        <h4>🔒 Privacidad y Seguridad</h4>
                        <ul>
                            <li>🔐 <strong>100% Local:</strong> Todos los datos se almacenan en tu navegador</li>
                            <li>🚫 <strong>Sin Telemetría:</strong> No enviamos información a servidores externos</li>
                            <li>🛡️ <strong>Código Abierto:</strong> Código auditable y transparente</li>
                            <li>🔒 <strong>Cumplimiento CSP:</strong> Políticas de seguridad estrictas</li>
                        </ul>

                        <h4>🛠️ Características Técnicas</h4>
                        <ul>
                            <li>⚡ <strong>Manifest V3:</strong> Última versión de extensiones de Chrome</li>
                            <li>🔄 <strong>Seguimiento Continuo:</strong> Monitoreo preciso cada 30 segundos</li>
                            <li>🌐 <strong>Normalización de Dominios:</strong> www.ejemplo.com = ejemplo.com</li>
                            <li>💾 <strong>Almacenamiento Eficiente:</strong> Gestión optimizada de datos</li>
                            <li>🎯 <strong>Bloqueo Inteligente:</strong> Sistema de reglas declarativas</li>
                        </ul>

                        <h4>🎁 Extras</h4>
                        <ul>
                            <li>☕ <strong>Buy Me a Coffee:</strong> Soporte para el desarrollador</li>
                            <li>📖 <strong>Documentación Completa:</strong> README detallado</li>
                            <li>🎮 <strong>Guías Interactivas:</strong> Tips y recomendaciones integradas</li>
                        </ul>
                    </div>
                </div>

                <!-- Próximas Versiones -->
                <div class="version-item future">
                    <div class="version-info">
                        <h3>🔮 Próximas Versiones</h3>
                        <span class="version-date">Planificadas</span>
                        <span class="version-type upcoming">Próximamente</span>
                    </div>
                    <div class="version-content">
                        <h4>🎯 Funcionalidades Planeadas</h4>
                        <ul>
                            <li>🌍 <strong>Más Idiomas:</strong> Francés, alemán, italiano y otros</li>
                            <li>📊 <strong>Gráficos Avanzados:</strong> Visualizaciones más detalladas</li>
                            <li>🔔 <strong>Notificaciones:</strong> Alertas de tiempo y objetivos</li>
                            <li>📱 <strong>Sincronización:</strong> Datos entre dispositivos</li>
                            <li>🎨 <strong>Temas Personalizados:</strong> Colores y estilos configurables</li>
                            <li>🤖 <strong>Automatización:</strong> Reglas y acciones automáticas</li>
                            <li>📈 <strong>Análisis Predictivo:</strong> Tendencias y predicciones</li>
                        </ul>

                        <h4>🔧 Mejoras Técnicas</h4>
                        <ul>
                            <li>⚡ <strong>Optimización:</strong> Mejor rendimiento y velocidad</li>
                            <li>🔄 <strong>Actualizaciones Automáticas:</strong> Sistema de versionado mejorado</li>
                            <li>🔌 <strong>APIs Externas:</strong> Integraciones con otras herramientas</li>
                            <li>🗂️ <strong>Importación Avanzada:</strong> Soporte para más formatos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Información Adicional -->
            <div class="info-section">
                <h3>📞 Soporte y Contacto</h3>
                <p>Si tienes sugerencias, reportes de bugs o ideas para nuevas funcionalidades, no dudes en contactarnos:</p>
                <div class="contact-links">
                    <a href="https://coff.ee/vandertoorm" target="_blank" class="contact-btn">☕ Buy Me a Coffee</a>
                    <a href="https://github.com/vandertoorm/timetracker-pro" target="_blank" class="contact-btn">📚 GitHub</a>
                </div>
            </div>
        </div>
    </div>

    <script src="versiones.js"></script>
</body>
</html> 